{"openapi":"3.0.2","info":{"title":"FastAPI","description":"\nIES系统仿真和优化算法服务器\n\nOpenAPI描述文件(可导入Apifox): https://0.0.0.0:9870/openapi.json\nAPI文档: https://0.0.0.0:9870/docs\n","version":"0.0.1"},"paths":{"/calculate_async":{"post":{"tags":["async"],"summary":"异步提交能流拓扑图","description":"填写数据并提交拓扑图，如果还有计算资源，提交状态为成功，返回计算ID，否则不返回计算ID，提交状态为失败","operationId":"calculate_async_calculate_async_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnergyFlowGraph"}}},"required":true},"responses":{"200":{"description":"提交状态以及模型计算ID,根据ID获取计算结果","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalculationAsyncSubmitResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/get_calculation_state":{"get":{"tags":["async"],"summary":"获取计算状态","description":"根据计算ID获取计算状态","operationId":"get_calculation_state_get_calculation_state_get","parameters":[{"required":true,"schema":{"title":"Calculation Id","type":"string"},"name":"calculation_id","in":"query"}],"responses":{"200":{"description":"Celery内置任务状态，如果是null则表示不存在该任务","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalculationStateResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/get_calculation_result_async":{"get":{"tags":["async"],"summary":"异步获取能流拓扑计算结果","description":"提交计算ID，返回计算状态，如果计算完毕会一起返回数据，否则数据为空","operationId":"get_calculation_result_async_get_calculation_result_async_get","parameters":[{"required":true,"schema":{"title":"Calculation Id","type":"string"},"name":"calculation_id","in":"query"}],"responses":{"200":{"description":"计算状态和计算结果","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalculationAsyncResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/revoke_calculation":{"get":{"tags":["async"],"summary":"撤销计算任务","description":"提交计算ID，撤销计算","operationId":"revoke_calculation_revoke_calculation_get","parameters":[{"required":true,"schema":{"title":"Calculation Id","type":"string"},"name":"calculation_id","in":"query"}],"responses":{"200":{"description":"返回撤销计算状态","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RevokeResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/get_calculation_ids":{"get":{"tags":["async"],"summary":"查询任务ID","description":"任务如果24小时内没有状态更新会被清出缓存，检查缓存中的所有可查询任务ID","operationId":"get_calculation_ids_get_calculation_ids_get","responses":{"200":{"description":"缓存中可查询的任务ID列表","content":{"application/json":{"schema":{"title":"Response Get Calculation Ids Get Calculation Ids Get","type":"array","items":{"type":"string"}}}}}}}}},"components":{"schemas":{"CalculationAsyncResult":{"title":"CalculationAsyncResult","required":["calculation_state"],"type":"object","properties":{"calculation_state":{"title":"计算任务状态","enum":["PENDING","RECEIVED","STARTED","SUCCESS","FAILURE","RETRY","REVOKED","NOT_CREATED"],"type":"string","description":"Celery内置任务状态，如果是null则表示不存在该任务"},"calculation_result":{"title":"计算结果","allOf":[{"$ref":"#/components/schemas/CalculationResult"}],"description":"如果没有计算完或者不存在返回空，否则返回计算结果字典"}},"description":"异步计算任务查询返回结果"},"CalculationAsyncSubmitResult":{"title":"CalculationAsyncSubmitResult","required":["submit_result"],"type":"object","properties":{"calculation_id":{"title":"计算ID","type":"string","description":"如果成功注册计算任务，返回ID，否则为空"},"submit_result":{"title":"提交结果","enum":["success","failed"],"type":"string","description":"如果成功提交，返回\"success\"，否则返回\"failed\""}},"description":"异步计算提交结果返回类"},"CalculationResult":{"title":"CalculationResult","required":["resultList","success","error_log"],"type":"object","properties":{"resultList":{"title":"Resultlist","type":"array","items":{"$ref":"#/components/schemas/fastapi_datamodel_template__单次计算结果"}},"success":{"title":"Success","type":"boolean"},"error_log":{"title":"Error Log","type":"string"}}},"CalculationStateResult":{"title":"CalculationStateResult","required":["calculation_state"],"type":"object","properties":{"calculation_state":{"title":"计算任务状态","enum":["PENDING","RECEIVED","STARTED","SUCCESS","FAILURE","RETRY","REVOKED","NOT_CREATED"],"type":"string","description":"Celery内置任务状态，如果是null则表示不存在该任务"}},"description":"包含计算任务状态的数据类"},"EnergyFlowGraph":{"title":"EnergyFlowGraph","required":["mDictList"],"type":"object","properties":{"mDictList":{"title":"Mdictlist","type":"array","items":{"$ref":"#/components/schemas/mDict"}}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"RevokeResult":{"title":"RevokeResult","required":["calculation_state","revoke_result"],"type":"object","properties":{"calculation_state":{"title":"计算任务状态","enum":["PENDING","RECEIVED","STARTED","SUCCESS","FAILURE","RETRY","REVOKED","NOT_CREATED"],"type":"string","description":"Celery内置任务状态，如果是null则表示不存在该任务"},"revoke_result":{"title":"撤销结果","enum":["success","failed"],"type":"string","description":"如果成功撤销任务，返回\"success\"，否则返回\"failed\""}},"description":"撤销返回结果"},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}},"__":{"title":"曲线","required":["x","y"],"type":"object","properties":{"x":{"title":"x轴数据","type":"array","items":{"type":"string"}},"y":{"title":"y轴数据","type":"array","items":{"type":"number"}}}},"_______":{"title":"双向变流器信息","required":["设备名称","生产厂商","设备型号","RatedPower","Efficiency","CostPerKilowatt","CostPerYearPerKilowatt","VariationalCostPerWork","Life","BuildCostPerKilowatt","BuildBaseCost","MaxDeviceCount","MinDeviceCount","DeviceCount"],"type":"object","properties":{"设备名称":{"title":"设备名称","type":"string"},"生产厂商":{"title":"生产厂商","type":"string"},"设备型号":{"title":"设备型号","type":"string"},"RatedPower":{"title":"额定功率","type":"number","description":"名称: 额定功率\n单位: kW"},"Efficiency":{"title":"效率","type":"number","description":"名称: 效率\n单位: percent"},"CostPerKilowatt":{"title":"采购成本","type":"number","description":"名称: 采购成本\n单位: 万元/kW"},"CostPerYearPerKilowatt":{"title":"固定维护成本","type":"number","description":"名称: 固定维护成本\n单位: 万元/(kW*年)"},"VariationalCostPerWork":{"title":"可变维护成本","type":"number","description":"名称: 可变维护成本\n单位: 元/kWh"},"Life":{"title":"设计寿命","type":"number","description":"名称: 设计寿命\n单位: 年"},"BuildCostPerKilowatt":{"title":"建设费用系数","type":"number","description":"名称: 建设费用系数\n单位: 万元/kW"},"BuildBaseCost":{"title":"建设费用基数","type":"number","description":"名称: 建设费用基数\n单位: 万元"},"MaxDeviceCount":{"title":"最大安装台数","type":"number","description":"名称: 最大安装台数\n单位: 台"},"MinDeviceCount":{"title":"最小安装台数","type":"number","description":"名称: 最小安装台数\n单位: 台"},"DeviceCount":{"title":"安装台数","type":"number","description":"名称: 安装台数\n单位: 台"}}},"fastapi_datamodel_template__出力曲线":{"title":"出力曲线","required":["name","abbr","data"],"type":"object","properties":{"name":{"title":"出力曲线标题","type":"string"},"abbr":{"title":"出力曲线缩写","type":"string"},"data":{"title":"曲线数据","allOf":[{"$ref":"#/components/schemas/__"}]}}},"fastapi_datamodel_template__单次计算结果":{"title":"单次计算结果","required":["performanceDataList","simulationResultTable"],"type":"object","properties":{"performanceDataList":{"title":"设备出力曲线列表","type":"array","items":{"$ref":"#/components/schemas/fastapi_datamodel_template__设备出力曲线"},"example":[{"name":"Any","plot_list":[{"name":"plotName","abbr":"plotAbbr","data":{"x":[],"y":[]}}]}]},"simulationResultTable":{"title":"仿真结果列表","type":"array","items":{"$ref":"#/components/schemas/ies_optim__仿真结果"},"example":[{"name":"Any","modelNumber":"Any","equiCounts":1,"coolingCapacity":1,"coolingLoad":1,"electricSupply":1,"electricLoad":1,"heatingLoad":1,"heatLoad":1,"steamProduction":1,"steamLoad":1,"hydrogenProduction":1,"hydrogenConsumption":1,"dieselConsumption":1,"dieselConsumptionCosts":1,"naturalGasConsumption":1,"naturalGasConsumptionCosts":1,"averageEfficiency":1,"equipmentMaintenanceCosts":1,"coldIncome":1,"hotIncome":1,"eletricncome":1,"steamIncome":1,"hydrogenIncome":1}]}}},"fastapi_datamodel_template__设备出力曲线":{"title":"设备出力曲线","required":["name","plot_list"],"type":"object","properties":{"name":{"title":"设备名称","type":"string"},"plot_list":{"title":"出力曲线列表","type":"array","items":{"$ref":"#/components/schemas/fastapi_datamodel_template__出力曲线"}}}},"ies_optim__仿真结果":{"title":"仿真结果","required":["name","modelNumber","equiCounts","coolingCapacity","coolingLoad","electricSupply","electricLoad","heatingLoad","heatLoad","steamProduction","steamLoad","hydrogenProduction","hydrogenConsumption","dieselConsumption","dieselConsumptionCosts","naturalGasConsumption","naturalGasConsumptionCosts","averageEfficiency","equipmentMaintenanceCosts","coldIncome","hotIncome","eletricncome","steamIncome","hydrogenIncome"],"type":"object","properties":{"name":{"title":"元件名称","type":"string"},"modelNumber":{"title":"设备型号","type":"string"},"equiCounts":{"title":"设备台数","type":"number"},"coolingCapacity":{"title":"产冷量","type":"number"},"coolingLoad":{"title":"冷负荷","type":"number"},"electricSupply":{"title":"产电量","type":"number"},"electricLoad":{"title":"电负荷","type":"number"},"heatingLoad":{"title":"产热量","type":"number"},"heatLoad":{"title":"热负荷","type":"number"},"steamProduction":{"title":"蒸汽产量","type":"number"},"steamLoad":{"title":"蒸汽负荷","type":"number"},"hydrogenProduction":{"title":"氢气产量","type":"number"},"hydrogenConsumption":{"title":"氢气消耗量","type":"number"},"dieselConsumption":{"title":"柴油消耗量","type":"number"},"dieselConsumptionCosts":{"title":"柴油消耗费用","type":"number"},"naturalGasConsumption":{"title":"天然气消耗量","type":"number"},"naturalGasConsumptionCosts":{"title":"天然气消耗费用","type":"number"},"averageEfficiency":{"title":"平均效率/平均COP","type":"number"},"equipmentMaintenanceCosts":{"title":"设备维护费用","type":"number"},"coldIncome":{"title":"冷收入","type":"number"},"hotIncome":{"title":"热收入","type":"number"},"eletricncome":{"title":"电收入","type":"number"},"steamIncome":{"title":"蒸汽收入","type":"number"},"hydrogenIncome":{"title":"氢气收入","type":"number"}}},"ies_optim__传输线信息":{"title":"传输线信息","required":["设备名称","生产厂商","设备型号","PowerTransferDecay","CostPerKilometer","CostPerYearPerKilometer","Life","BuildCostPerKilometer","BuildBaseCost","Length"],"type":"object","properties":{"设备名称":{"title":"设备名称","type":"string"},"生产厂商":{"title":"生产厂商","type":"string"},"设备型号":{"title":"设备型号","type":"string"},"PowerTransferDecay":{"title":"能量衰减系数","type":"number","description":"名称: 能量衰减系数\n单位: kW/km"},"CostPerKilometer":{"title":"采购成本","type":"number","description":"名称: 采购成本\n单位: 万元/km"},"CostPerYearPerKilometer":{"title":"维护成本","type":"number","description":"名称: 维护成本\n单位: 万元/(km*年)"},"Life":{"title":"设计寿命","type":"number","description":"名称: 设计寿命\n单位: 年"},"BuildCostPerKilometer":{"title":"建设费用系数","type":"number","description":"名称: 建设费用系数\n单位: 万元/km"},"BuildBaseCost":{"title":"建设费用基数","type":"number","description":"名称: 建设费用基数\n单位: 万元"},"Length":{"title":"长度","type":"number","description":"名称: 长度\n单位: km"}}},"ies_optim__光伏发电信息":{"title":"光伏发电信息","required":["设备名称","生产厂商","设备型号","Area","PowerConversionEfficiency","MaxPower","PowerDeltaLimit","CostPerKilowatt","CostPerYearPerKilowatt","VariationalCostPerWork","Life","BuildCostPerKilowatt","BuildBaseCost","MaxInstallArea","MinInstallArea","DeviceCount"],"type":"object","properties":{"设备名称":{"title":"设备名称","type":"string"},"生产厂商":{"title":"生产厂商","type":"string"},"设备型号":{"title":"设备型号","type":"string"},"Area":{"title":"光伏板面积","type":"number","description":"名称: 光伏板面积\n单位: m2"},"PowerConversionEfficiency":{"title":"电电转换效率","type":"number","description":"名称: 电电转换效率\n单位: percent"},"MaxPower":{"title":"最大发电功率","type":"number","description":"名称: 最大发电功率\n单位: kWp"},"PowerDeltaLimit":{"title":"发电爬坡率","type":"number","description":"名称: 发电爬坡率\n单位: percent/s"},"CostPerKilowatt":{"title":"采购成本","type":"number","description":"名称: 采购成本\n单位: 万元/kWp"},"CostPerYearPerKilowatt":{"title":"固定维护成本","type":"number","description":"名称: 固定维护成本\n单位: 万元/(kWp*年)"},"VariationalCostPerWork":{"title":"可变维护成本","type":"number","description":"名称: 可变维护成本\n单位: 元/kWh"},"Life":{"title":"设计寿命","type":"number","description":"名称: 设计寿命\n单位: 年"},"BuildCostPerKilowatt":{"title":"建设费用系数","type":"number","description":"名称: 建设费用系数\n单位: 万元/kWp"},"BuildBaseCost":{"title":"建设费用基数","type":"number","description":"名称: 建设费用基数\n单位: 万元"},"MaxInstallArea":{"title":"最大安装面积","type":"number","description":"名称: 最大安装面积\n单位: m2"},"MinInstallArea":{"title":"最小安装面积","type":"number","description":"名称: 最小安装面积\n单位: m2"},"DeviceCount":{"title":"安装台数","type":"number","description":"名称: 安装台数\n单位: 台"}}},"ies_optim__分时电价":{"title":"分时电价","type":"object","properties":{"PriceList":{"title":"Pricelist","type":"array","items":{"type":"number"},"description":"单位： kWh/元","default":"长度为24的价格数组"}}},"ies_optim__分时阶梯电价":{"title":"分时阶梯电价","type":"object","properties":{"PriceStructList":{"title":"Pricestructlist","type":"array","items":{"$ref":"#/components/schemas/ies_optim__阶梯电价"},"description":"单位： kWh/元","default":"长度为24的阶梯电价列表"}}},"ies_optim__变压器信息":{"title":"变压器信息","required":["设备名称","生产厂商","设备型号","Efficiency","RatedPower","CostPerKilowatt","CostPerYearPerKilowatt","VariationalCostPerWork","Life","BuildCostPerKilowatt","BuildBaseCost","PowerParameter","LoadRedundancyParameter","MaxDeviceCount","MinDeviceCount","DeviceCount"],"type":"object","properties":{"设备名称":{"title":"设备名称","type":"string"},"生产厂商":{"title":"生产厂商","type":"string"},"设备型号":{"title":"设备型号","type":"string"},"Efficiency":{"title":"效率","type":"number","description":"名称: 效率\n单位: percent"},"RatedPower":{"title":"变压器容量","type":"number","description":"名称: 变压器容量\n单位: kW"},"CostPerKilowatt":{"title":"采购成本","type":"number","description":"名称: 采购成本\n单位: 万元/kW"},"CostPerYearPerKilowatt":{"title":"固定维护成本","type":"number","description":"名称: 固定维护成本\n单位: 万元/(kW*年)"},"VariationalCostPerWork":{"title":"可变维护成本","type":"number","description":"名称: 可变维护成本\n单位: 元/kWh"},"Life":{"title":"设计寿命","type":"number","description":"名称: 设计寿命\n单位: 年"},"BuildCostPerKilowatt":{"title":"建设费用系数","type":"number","description":"名称: 建设费用系数\n单位: 万元/kW"},"BuildBaseCost":{"title":"建设费用基数","type":"number","description":"名称: 建设费用基数\n单位: 万元"},"PowerParameter":{"title":"功率因数","type":"number","description":"名称: 功率因数\n单位: one"},"LoadRedundancyParameter":{"title":"变压器冗余系数","type":"number","description":"名称: 变压器冗余系数\n单位: one"},"MaxDeviceCount":{"title":"最大安装台数","type":"number","description":"名称: 最大安装台数\n单位: 台"},"MinDeviceCount":{"title":"最小安装台数","type":"number","description":"名称: 最小安装台数\n单位: 台"},"DeviceCount":{"title":"安装台数","type":"number","description":"名称: 安装台数\n单位: 台"}}},"ies_optim__变流器信息":{"title":"变流器信息","required":["设备名称","生产厂商","设备型号","RatedPower","Efficiency","CostPerKilowatt","CostPerYearPerKilowatt","VariationalCostPerWork","Life","BuildCostPerKilowatt","BuildBaseCost","MaxDeviceCount","MinDeviceCount","DeviceCount"],"type":"object","properties":{"设备名称":{"title":"设备名称","type":"string"},"生产厂商":{"title":"生产厂商","type":"string"},"设备型号":{"title":"设备型号","type":"string"},"RatedPower":{"title":"额定功率","type":"number","description":"名称: 额定功率\n单位: kW"},"Efficiency":{"title":"效率","type":"number","description":"名称: 效率\n单位: percent"},"CostPerKilowatt":{"title":"采购成本","type":"number","description":"名称: 采购成本\n单位: 万元/kW"},"CostPerYearPerKilowatt":{"title":"固定维护成本","type":"number","description":"名称: 固定维护成本\n单位: 万元/(kW*年)"},"VariationalCostPerWork":{"title":"可变维护成本","type":"number","description":"名称: 可变维护成本\n单位: 元/kWh"},"Life":{"title":"设计寿命","type":"number","description":"名称: 设计寿命\n单位: 年"},"BuildCostPerKilowatt":{"title":"建设费用系数","type":"number","description":"名称: 建设费用系数\n单位: 万元/kW"},"BuildBaseCost":{"title":"建设费用基数","type":"number","description":"名称: 建设费用基数\n单位: 万元"},"MaxDeviceCount":{"title":"最大安装台数","type":"number","description":"名称: 最大安装台数\n单位: 台"},"MinDeviceCount":{"title":"最小安装台数","type":"number","description":"名称: 最小安装台数\n单位: 台"},"DeviceCount":{"title":"安装台数","type":"number","description":"名称: 安装台数\n单位: 台"}}},"ies_optim__常数电价":{"title":"常数电价","type":"object","properties":{"Price":{"title":"Price","type":"number","description":"单位： kWh/元","default":"电价"}}},"ies_optim__柴油信息":{"title":"柴油信息","required":["设备名称","Price","热值","CO2"],"type":"object","properties":{"设备名称":{"title":"设备名称","type":"string"},"Price":{"title":"Price","maxItems":2,"minItems":2,"type":"array","items":[{"type":"number"},{"type":"string"}],"description":"格式: [数值,单位]"},"热值":{"title":"热值","maxItems":2,"minItems":2,"type":"array","items":[{"type":"number"},{"type":"string"}],"description":"格式: [数值,单位]"},"CO2":{"title":"CO2","maxItems":2,"minItems":2,"type":"array","items":[{"type":"number"},{"type":"string"}],"description":"格式: [数值,单位]"}}},"ies_optim__柴油发电信息":{"title":"柴油发电信息","required":["设备名称","生产厂商","设备型号","RatedPower","PowerDeltaLimit","PowerStartupLimit","CostPerMachine","CostPerYearPerMachine","VariationalCostPerWork","Life","BuildCostPerMachine","BuildBaseCost","MaxDeviceCount","MinDeviceCount","DeviceCount","DieselToPower_Load"],"type":"object","properties":{"设备名称":{"title":"设备名称","type":"string"},"生产厂商":{"title":"生产厂商","type":"string"},"设备型号":{"title":"设备型号","type":"string"},"RatedPower":{"title":"额定功率","type":"number","description":"名称: 额定功率\n单位: kW"},"PowerDeltaLimit":{"title":"发电爬坡率","type":"number","description":"名称: 发电爬坡率\n单位: percent/s"},"PowerStartupLimit":{"title":"启动功率百分比","type":"number","description":"名称: 启动功率百分比\n单位: percent"},"CostPerMachine":{"title":"采购成本","type":"number","description":"名称: 采购成本\n单位: 万元/台"},"CostPerYearPerMachine":{"title":"固定维护成本","type":"number","description":"名称: 固定维护成本\n单位: 万元/(台*年)"},"VariationalCostPerWork":{"title":"可变维护成本","type":"number","description":"名称: 可变维护成本\n单位: 元/kWh"},"Life":{"title":"设计寿命","type":"number","description":"名称: 设计寿命\n单位: 年"},"BuildCostPerMachine":{"title":"建设费用系数","type":"number","description":"名称: 建设费用系数\n单位: 万元/台"},"BuildBaseCost":{"title":"建设费用基数","type":"number","description":"名称: 建设费用基数\n单位: 万元"},"MaxDeviceCount":{"title":"最大安装台数","type":"number","description":"名称: 最大安装台数\n单位: 台"},"MinDeviceCount":{"title":"最小安装台数","type":"number","description":"名称: 最小安装台数\n单位: 台"},"DeviceCount":{"title":"安装台数","type":"number","description":"名称: 安装台数\n单位: 台"},"DieselToPower_Load":{"title":"燃油消耗率_负载率","type":"array","items":{"type":"array","items":{"type":"number"}},"description":"DieselToPower: 燃油消耗率\n单位: L/kWh\nLoad: 负载率\n单位: percent"}}},"ies_optim__母线节点":{"title":"母线节点","required":["type","subtype","id","conn"],"type":"object","properties":{"type":{"title":"节点类型","type":"string"},"subtype":{"title":"节点次类型","type":"string"},"id":{"title":"节点ID","type":"integer"},"conn":{"title":"母线连接线类型列表","type":"array","items":{"type":"string"},"description":"包括连接到母线上的连接线和合并线类型"}}},"ies_optim__电负荷信息":{"title":"电负荷信息","required":["设备名称","EnergyConsumption","PriceModel"],"type":"object","properties":{"设备名称":{"title":"设备名称","type":"string"},"EnergyConsumption":{"title":"耗能功率表","type":"array","items":{"type":"number"},"description":"单位: kW"},"MaxEnergyConsumption":{"title":"最大消耗功率","type":"number","description":"单位: kW\n用于典型日下计算变压器容量"},"PriceModel":{"title":"计价模型","anyOf":[{"$ref":"#/components/schemas/ies_optim__常数电价"},{"$ref":"#/components/schemas/ies_optim__阶梯电价"},{"$ref":"#/components/schemas/ies_optim__分时电价"},{"$ref":"#/components/schemas/ies_optim__分时阶梯电价"}],"description":"单位: kWh/元"}}},"ies_optim__节点基类":{"title":"节点基类","required":["type","subtype","id"],"type":"object","properties":{"type":{"title":"节点类型","type":"string"},"subtype":{"title":"节点次类型","type":"string"},"id":{"title":"节点ID","type":"integer"}}},"ies_optim__计价阶梯":{"title":"计价阶梯","type":"object","properties":{"Price":{"title":"Price","type":"number","description":"单位： kWh/元","default":"电价"},"LowerLimit":{"title":"Lowerlimit","type":"number","default":"功率下限"}}},"ies_optim__计算参数":{"title":"计算参数","required":["计算步长","典型日","计算类型","计算目标","风速","光照","气温","年利率"],"type":"object","properties":{"典型日ID":{"title":"典型日Id","type":"integer"},"计算步长":{"title":"计算步长","anyOf":[{"enum":["小时"],"type":"string"},{"enum":["秒"],"type":"string"}]},"典型日":{"title":"典型日","type":"boolean"},"分时计价开始时间点":{"title":"分时计价开始时间点","type":"number","default":0},"典型日代表的日期":{"title":"典型日代表的日期","type":"array","items":{"type":"integer"},"default":[]},"计算类型":{"title":"计算类型","anyOf":[{"enum":["仿真模拟"],"type":"string"},{"enum":["设计规划"],"type":"string"}]},"计算目标":{"title":"计算目标","anyOf":[{"enum":["经济"],"type":"string"},{"enum":["环保"],"type":"string"},{"enum":["经济_环保"],"type":"string"}]},"风速":{"title":"风速","type":"array","items":{"type":"number"}},"光照":{"title":"光照","type":"array","items":{"type":"number"}},"气温":{"title":"气温","type":"array","items":{"type":"number"}},"年利率":{"title":"年利率","type":"number"}}},"ies_optim__设备接口映射":{"title":"设备接口映射","required":["subtype","id"],"type":"object","properties":{"subtype":{"title":"接口类型","type":"string"},"id":{"title":"接口ID","type":"integer","description":"拓扑图上与设备、母线、连接线的ID相比较具有唯一性的ID"}}},"ies_optim__设备节点":{"title":"设备节点","required":["type","subtype","id","ports","param"],"type":"object","properties":{"type":{"title":"节点类型","type":"string"},"subtype":{"title":"节点次类型","type":"string"},"id":{"title":"节点ID","type":"integer"},"ports":{"title":"设备接口映射","type":"object","additionalProperties":{"$ref":"#/components/schemas/ies_optim__设备接口映射"},"description":"描述设备所对应接口的类型和接口ID"},"param":{"title":"设备信息","anyOf":[{"$ref":"#/components/schemas/ies_optim__柴油信息"},{"$ref":"#/components/schemas/ies_optim__电负荷信息"},{"$ref":"#/components/schemas/ies_optim__光伏发电信息"},{"$ref":"#/components/schemas/ies_optim__风力发电信息"},{"$ref":"#/components/schemas/ies_optim__柴油发电信息"},{"$ref":"#/components/schemas/ies_optim__锂电池信息"},{"$ref":"#/components/schemas/ies_optim__变压器信息"},{"$ref":"#/components/schemas/ies_optim__变流器信息"},{"$ref":"#/components/schemas/_______"},{"$ref":"#/components/schemas/ies_optim__传输线信息"}],"description":"不同设备有不同的信息格式"}}},"ies_optim__锂电池信息":{"title":"锂电池信息","required":["设备名称","生产厂商","设备型号","循环边界条件","RatedCapacity","BatteryDeltaLimit","ChargeEfficiency","DischargeEfficiency","MaxSOC","MinSOC","BatteryStorageDecay","TotalDischargeCapacity","BatteryLife","CostPerCapacity","CostPerYearPerCapacity","VariationalCostPerWork","Life","BuildCostPerCapacity","BuildBaseCost","InitSOC","MaxTotalCapacity","MinTotalCapacity","TotalCapacity"],"type":"object","properties":{"设备名称":{"title":"设备名称","type":"string"},"生产厂商":{"title":"生产厂商","type":"string"},"设备型号":{"title":"设备型号","type":"string"},"循环边界条件":{"title":"循环边界条件","type":"string"},"RatedCapacity":{"title":"额定容量","type":"number","description":"名称: 额定容量\n单位: kWh"},"BatteryDeltaLimit":{"title":"电池充放电倍率","type":"number","description":"名称: 电池充放电倍率\n单位: 1/hour"},"ChargeEfficiency":{"title":"充能效率","type":"number","description":"名称: 充能效率\n单位: percent"},"DischargeEfficiency":{"title":"放能效率","type":"number","description":"名称: 放能效率\n单位: percent"},"MaxSOC":{"title":"最大SOC","type":"number","description":"名称: 最大SOC\n单位: percent"},"MinSOC":{"title":"最小SOC","type":"number","description":"名称: 最小SOC\n单位: percent"},"BatteryStorageDecay":{"title":"存储衰减","type":"number","description":"名称: 存储衰减\n单位: percent/hour"},"TotalDischargeCapacity":{"title":"生命周期总放电量","type":"number","description":"名称: 生命周期总放电量\n单位: kWh"},"BatteryLife":{"title":"电池换芯周期","type":"number","description":"名称: 电池换芯周期\n单位: 年"},"CostPerCapacity":{"title":"采购成本","type":"number","description":"名称: 采购成本\n单位: 万元/kWh"},"CostPerYearPerCapacity":{"title":"固定维护成本","type":"number","description":"名称: 固定维护成本\n单位: 万元/(kWh*年)"},"VariationalCostPerWork":{"title":"可变维护成本","type":"number","description":"名称: 可变维护成本\n单位: 元/kWh"},"Life":{"title":"设计寿命","type":"number","description":"名称: 设计寿命\n单位: 年"},"BuildCostPerCapacity":{"title":"建设费用系数","type":"number","description":"名称: 建设费用系数\n单位: 万元/kWh"},"BuildBaseCost":{"title":"建设费用基数","type":"number","description":"名称: 建设费用基数\n单位: 万元"},"InitSOC":{"title":"初始SOC","type":"number","description":"名称: 初始SOC\n单位: percent"},"MaxTotalCapacity":{"title":"最大设备容量","type":"number","description":"名称: 最大设备容量\n单位: kWh"},"MinTotalCapacity":{"title":"最小设备容量","type":"number","description":"名称: 最小设备容量\n单位: kWh"},"TotalCapacity":{"title":"设备容量","type":"number","description":"名称: 设备容量\n单位: kWh"}}},"ies_optim__锚点节点":{"title":"锚点节点","required":["type","subtype","id","port_name","device_id"],"type":"object","properties":{"type":{"title":"节点类型","type":"string"},"subtype":{"title":"节点次类型","type":"string"},"id":{"title":"节点ID","type":"integer"},"port_name":{"title":"锚点名称","type":"string"},"device_id":{"title":"锚点所对应设备ID","type":"integer"}}},"ies_optim__阶梯电价":{"title":"阶梯电价","type":"object","properties":{"PriceStruct":{"title":"Pricestruct","type":"array","items":{"$ref":"#/components/schemas/ies_optim__计价阶梯"},"description":"单位： kWh/元","default":"长度不定的计价阶梯列表"}}},"ies_optim__风力发电信息":{"title":"风力发电信息","required":["设备名称","生产厂商","设备型号","RatedPower","RatedWindSpeed","MinWindSpeed","MaxWindSpeed","PowerDeltaLimit","CostPerKilowatt","CostPerYearPerKilowatt","VariationalCostPerWork","Life","BuildCostPerKilowatt","BuildBaseCost","MaxDeviceCount","MinDeviceCount","DeviceCount"],"type":"object","properties":{"设备名称":{"title":"设备名称","type":"string"},"生产厂商":{"title":"生产厂商","type":"string"},"设备型号":{"title":"设备型号","type":"string"},"RatedPower":{"title":"额定功率","type":"number","description":"名称: 额定功率\n单位: kWp"},"RatedWindSpeed":{"title":"额定风速","type":"number","description":"名称: 额定风速\n单位: m/s"},"MinWindSpeed":{"title":"切入风速","type":"number","description":"名称: 切入风速\n单位: m/s"},"MaxWindSpeed":{"title":"切出风速","type":"number","description":"名称: 切出风速\n单位: m/s"},"PowerDeltaLimit":{"title":"发电爬坡率","type":"number","description":"名称: 发电爬坡率\n单位: percent/s"},"CostPerKilowatt":{"title":"采购成本","type":"number","description":"名称: 采购成本\n单位: 万元/kWp"},"CostPerYearPerKilowatt":{"title":"固定维护成本","type":"number","description":"名称: 固定维护成本\n单位: 万元/(kWp*年)"},"VariationalCostPerWork":{"title":"可变维护成本","type":"number","description":"名称: 可变维护成本\n单位: 元/kWh"},"Life":{"title":"设计寿命","type":"number","description":"名称: 设计寿命\n单位: 年"},"BuildCostPerKilowatt":{"title":"建设费用系数","type":"number","description":"名称: 建设费用系数\n单位: 万元/kWp"},"BuildBaseCost":{"title":"建设费用基数","type":"number","description":"名称: 建设费用基数\n单位: 万元"},"MaxDeviceCount":{"title":"最大安装台数","type":"number","description":"名称: 最大安装台数\n单位: 台"},"MinDeviceCount":{"title":"最小安装台数","type":"number","description":"名称: 最小安装台数\n单位: 台"},"DeviceCount":{"title":"安装台数","type":"number","description":"名称: 安装台数\n单位: 台"}}},"mDict":{"title":"mDict","required":["graph","nodes","links"],"type":"object","properties":{"directed":{"title":"保留字段","type":"boolean","default":false},"multigraph":{"title":"保留字段","type":"boolean","default":false},"graph":{"title":"能流拓扑图的附加属性","allOf":[{"$ref":"#/components/schemas/ies_optim__计算参数"}],"description":"仿真和优化所需的模型参数字典","example":{"计算步长":"小时","典型日":false,"典型日代表的日期":[],"计算类型":"设计规划","风速":[],"光照":[],"气温":[],"年利率":0.1}},"nodes":{"title":"节点","type":"array","items":{"anyOf":[{"$ref":"#/components/schemas/ies_optim__锚点节点"},{"$ref":"#/components/schemas/ies_optim__设备节点"},{"$ref":"#/components/schemas/ies_optim__母线节点"},{"$ref":"#/components/schemas/ies_optim__节点基类"}]},"description":"由所有节点ID和属性字典组成的列表","example":[{"type":"锚点","port_name":"电接口","subtype":"供电端输出","device_id":2,"id":3}]},"links":{"title":"边","type":"array","items":{"type":"object","additionalProperties":{"type":"integer"}},"description":"由能流图中节点互相连接的边组成的列表","example":[{"source":0,"target":1},{"source":1,"target":31}]}}}}}}